site_name: valency-anndata
site_url: https://patcon.github.io/valency-anndata
repo_url: https://github.com/patcon/valency-anndata
repo_name: patcon/valency-anndata

extra:
  logo_lg: assets/valency-anndata-logo-02.small.png

theme:
  name: material
  custom_dir: docs/overrides
  palette:
    primary: cyan
  icon:
    logo: material/atom-variant
    repo: simple/github
  features:
    - content.code.annotate
    - content.code.copy
    # Allow dynamic multiline highlighting and deeplinks
    - content.code.select
    # Expand nav tree by default.
    - navigation.expand
    - navigation.indexes

nav:
  - index.md
  - installation.md
  - Tutorials:
    - Basic Polis Pipeline: tutorials/basic-polis.md
    - Kitchen Sink: tutorials/kitchen-sink.md
  - API Reference:
    - Datasets: api/datasets.md
    - Preprocessing: api/preprocessing.md
    - Tools: api/tools.md
    - Viz: api/viz.md
    - Scanpy: api/scanpy.md

not_in_nav: |
  notebooks-autogenerated

markdown_extensions:
  # For admonitions
  - admonition
  - pymdownx.details
  # For code annotations
  - attr_list
  - md_in_html
  - pymdownx.superfences
  - pymdownx.inlinehilite
  - pymdownx.highlight:
      # Disable line numbers in defaults (used by converted notebooks).
      linenums: false
      # Allows line highlights to work.
      anchor_linenums: true
      line_spans: __span

plugins:
- mkdocstrings:
    default_handler: python
    handlers:
      python:
        paths: [ src ]
        inventories:
          - https://scanpy.readthedocs.io/en/stable/objects.inv
          - https://anndata.readthedocs.io/en/stable/objects.inv
        options:
          docstring_style: numpy
          # Allow parsing docs from wrapped scanpy methods.
          preload_modules:
            - scanpy
          # Show type hints in method signatures.
          show_signature_annotations: true
          signature_crossrefs: true # ???
          # Format method signatures with ruff.
          separate_signature: true
          # Show each method as header, since we add each directly.
          show_root_heading: true
          # Show full path in method signatures.
          show_root_full_path: true

# This suggests accessing the dev site at localhost
# instead of 127.0.0.1, the latter of which will break
# any imgur images displayed in notebooks.
dev_addr: localhost:8000